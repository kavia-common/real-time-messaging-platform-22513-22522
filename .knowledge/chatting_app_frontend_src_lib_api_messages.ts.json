{"is_source_file": true, "format": "TypeScript", "description": "This file provides functions to fetch and send messages in a chat application, including mock implementations for fallback. It defines two main exported functions: fetchMessages and sendMessage, and manages mock message data.", "external_files": ["./client", "$lib/types"], "external_methods": ["http", "getApiBase"], "published": ["fetchMessages", "sendMessage"], "classes": [], "methods": [{"name": "export async function fetchMessages(chatId: string): Promise<Message[]> { fetchMessages", "description": "Retrieves messages for a specified chat, calling the real API if available, or fallback to mock data.", "scope": "", "scopeKind": ""}, {"name": "export async function sendMessage(req: SendMessageRequest): Promise<Message> { sendMessage", "description": "Sends a message to a chat and returns the created message, using real API or a mock fallback.", "scope": "", "scopeKind": ""}, {"name": "function delay(ms: number) { delay", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function mockFetchMessages(chatId: string): Promise<Message[]> { mockFetchMessages", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function mockSendMessage(req: SendMessageRequest): Promise<Message> { mockSendMessage", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getApiBase", "http", "delay"], "search-terms": ["messages", "chat", "mock", "sendMessage", "fetchMessages"], "state": 2, "file_id": 20, "knowledge_revision": 44, "git_revision": "", "ctags": [{"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^  const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "fetchMessages", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^  const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "sendMessage", "scopeKind": "function"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^    createdAt: new Date().toISOString(),$/", "language": "TypeScript", "kind": "constant", "scope": "mockSendMessage", "scopeKind": "function"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^function delay(ms: number) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchMessages", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^export async function fetchMessages(chatId: string): Promise<Message[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "m", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^  const m: Message = {$/", "language": "TypeScript", "kind": "constant", "scope": "mockSendMessage", "scopeKind": "function"}, {"_type": "tag", "name": "mockFetchMessages", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^async function mockFetchMessages(chatId: string): Promise<Message[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "mockMsgs", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^const mockMsgs: Record<string, Message[]> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockSendMessage", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^async function mockSendMessage(req: SendMessageRequest): Promise<Message> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "sendMessage", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^export async function sendMessage(req: SendMessageRequest): Promise<Message> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "senderId", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/messages.ts", "pattern": "/^    senderId: \"u1\",$/", "language": "TypeScript", "kind": "constant", "scope": "mockSendMessage", "scopeKind": "function"}], "hash": "5efe069ae563adc9f872dc054391da95", "format-version": 4, "code-base-name": "chatting_app_frontend", "filename": "chatting_app_frontend/src/lib/api/messages.ts", "revision_history": [{"44": ""}]}