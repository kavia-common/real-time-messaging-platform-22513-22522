{"is_source_file": true, "format": "TypeScript", "description": "This file provides a simple REST API client with environment-configurable base URL, including functions for obtaining the base URL and making HTTP requests with JSON parsing and error handling.", "external_files": ["$lib/types"], "external_methods": [], "published": ["getApiBase", "http"], "classes": [], "methods": [{"name": "export function getApiBase(): string | null { getApiBase", "description": "Returns the REST API base URL or null if not configured.", "scope": "", "scopeKind": ""}, {"name": "export async function http<T>(path: string, init?: RequestInit): Promise<T> { http", "description": "Performs a fetch request to the API, handling JSON serialization and error normalization.", "scope": "", "scopeKind": ""}], "calls": ["fetch"], "search-terms": ["REST client", "VITE_API_BASE", "fetch wrapper", "API base URL", "json fetch", "error handling"], "state": 2, "file_id": 18, "knowledge_revision": 48, "git_revision": "", "revision_history": [{"40": ""}, {"48": ""}], "ctags": [{"_type": "tag", "name": "JSON", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const data = text ? JSON.parse(text) : null;$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const base = (import.meta as unknown as { env?: Record<string, string | undefined> }).env?.VIT/", "language": "TypeScript", "kind": "constant", "scope": "getApiBase", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const base = getApiBase();$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const data = text ? JSON.parse(text) : null;$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^    const err: ApiError = {$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^export function getApiBase(): string | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "http", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^export async function http<T>(path: string, init?: RequestInit): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^      message: (data && data.message) || res.statusText$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const res = await fetch(url, {$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const text = await res.text();$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/real-time-messaging-platform-22513-22522/chatting_app_frontend/src/lib/api/client.ts", "pattern": "/^  const url = `${base}${path}`;$/", "language": "TypeScript", "kind": "constant", "scope": "http", "scopeKind": "function"}], "hash": "a55110943ab99ebeafe622d7bc9aef6d", "format-version": 4, "code-base-name": "chatting_app_frontend", "filename": "chatting_app_frontend/src/lib/api/client.ts"}